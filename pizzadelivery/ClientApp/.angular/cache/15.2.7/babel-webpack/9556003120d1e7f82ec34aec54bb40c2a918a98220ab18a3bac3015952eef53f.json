{"ast":null,"code":"import * as _ from 'lodash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction HomeComponent_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", s_r4.Name, \" ($\", s_r4.Amount, \") \");\n  }\n}\nfunction HomeComponent_ng_container_11_tr_4_th_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 4)(1, \"div\", 9);\n    i0.ɵɵelement(2, \"input\", 10)(3, \"label\", 11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const s_r9 = ctx.$implicit;\n    const v_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"id\", v_r7.name.replace(\" \", \"-\") + \"-\" + s_r9.Name.replace(\" \", \"-\"));\n    i0.ɵɵattribute(\"data-topping\", v_r7.name)(\"data-size\", s_r9.Name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", v_r7.name.replace(\" \", \"-\") + \"-\" + s_r9.Name.replace(\" \", \"-\"));\n  }\n}\nfunction HomeComponent_ng_container_11_tr_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, HomeComponent_ng_container_11_tr_4_th_3_Template, 4, 4, \"th\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", v_r7.name, \" ($\", v_r7.amount, \") \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.Sizes);\n  }\n}\nfunction HomeComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"th\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, HomeComponent_ng_container_11_tr_4_Template, 4, 3, \"tr\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const s_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"colspan\", 1 + ctx_r1.Sizes.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(s_r5.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getToppings(s_r5.key));\n  }\n}\nfunction HomeComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"th\", 4)(1, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function HomeComponent_th_15_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const s_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.addCart(s_r11));\n    });\n    i0.ɵɵtext(2, \" Add Cart \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HomeComponent_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"p\", 13);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_31_Template_a_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const i_r15 = restoredCtx.index;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.removeItem(i_r15));\n    });\n    i0.ɵɵtext(9, \" remove \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const c_r14 = ctx.$implicit;\n    const i_r15 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r15 + 1, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Size : \", c_r14.Size, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Toppings : \", c_r14.Toppings.join(\", \"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", c_r14.Qty, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", c_r14.Amount, \" \");\n  }\n}\nexport class HomeComponent {\n  constructor() {\n    this.Toppings = [{\n      \"name\": \"Tomatoes\",\n      \"category\": \"Veg\",\n      \"amount\": 1.00\n    }, {\n      \"name\": \"Onions\",\n      \"category\": \"Veg\",\n      \"amount\": .50\n    }, {\n      \"name\": \"Bell pepper\",\n      \"category\": \"Veg\",\n      \"amount\": 1.00\n    }, {\n      \"name\": \"Mushrooms\",\n      \"category\": \"Veg\",\n      \"amount\": 1.20\n    }, {\n      \"name\": \"Pineapple\",\n      \"category\": \"Veg\",\n      \"amount\": .75\n    }, {\n      \"name\": \"Sausage\",\n      \"category\": \"Non Veg\",\n      \"amount\": 1.00\n    }, {\n      \"name\": \"Pepperoni\",\n      \"category\": \"Non Veg\",\n      \"amount\": 2.00\n    }, {\n      \"name\": \"Chicken\",\n      \"category\": \"Non Veg\",\n      \"amount\": 3.00\n    }];\n    this.Sizes = [{\n      \"Name\": \"Small\",\n      \"Amount\": 5.00\n    }, {\n      \"Name\": \"Medium\",\n      \"Amount\": 7.00\n    }, {\n      \"Name\": \"Large\",\n      \"Amount\": 8.00\n    }, {\n      \"Name\": \"Extra Large\",\n      \"Amount\": 9.00\n    }];\n    this.carts = [];\n    this.total = 0;\n    this.gorups = _.groupBy(this.Toppings.reverse(), \"category\");\n    console.log(this.gorups);\n  }\n  getToppings(name) {\n    return _.filter(this.Toppings, {\n      category: name\n    });\n  }\n  addCart(s) {\n    var _dccc = document.querySelectorAll(`[data-size=${s.Name}]`);\n    var _toppings = [];\n    _dccc.forEach(e => {\n      if (e instanceof HTMLInputElement) {\n        if (e.checked) {\n          _toppings.push(e.dataset.topping);\n        }\n      }\n    });\n    var _items = {\n      Toppings: _toppings,\n      Qty: 1,\n      Size: s.Name\n    };\n    _items.Amount = 0;\n    _items.Amount = _items.Amount + _.chain(this.Toppings).filter(e => {\n      return _toppings.indexOf(e.name) !== -1;\n    }).sumBy('amount').value();\n    _items.Amount = _items.Amount + s.Amount;\n    this.carts.push(_items);\n    this.calcTotal();\n  }\n  calcTotal() {\n    this.total = _.chain(this.carts).sumBy('Amount').value();\n  }\n  removeItem(index) {\n    this.carts.splice(index, 1);\n    this.calcTotal();\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)();\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 37,\n  vars: 8,\n  consts: [[1, \"fs-6\"], [1, \"table\", \"table-bordered\"], [1, \"\"], [\"rowspan\", \"2\", 1, \"text-center\", \"align-self-center\"], [1, \"text-center\"], [\"class\", \"text-center\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [2, \"width\", \"50px\"], [\"colspan\", \"3\", 1, \"text-end\", \"fw-bold\"], [1, \"form-check\", \"d-inline-block\"], [\"type\", \"checkbox\", 1, \"form-check-input\", 3, \"id\"], [1, \"form-check-label\", 3, \"for\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"mb-0\"], [\"href\", \"javascript:void(0)\", 1, \"text-danger\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\", 1)(2, \"thead\", 2)(3, \"tr\")(4, \"th\", 3);\n      i0.ɵɵtext(5, \" Toppings \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"th\", 4);\n      i0.ɵɵtext(7, \" Pizza size \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"tr\");\n      i0.ɵɵtemplate(9, HomeComponent_th_9_Template, 2, 2, \"th\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"tbody\");\n      i0.ɵɵtemplate(11, HomeComponent_ng_container_11_Template, 5, 3, \"ng-container\", 6);\n      i0.ɵɵpipe(12, \"keyvalue\");\n      i0.ɵɵelementStart(13, \"tr\");\n      i0.ɵɵelement(14, \"td\");\n      i0.ɵɵtemplate(15, HomeComponent_th_15_Template, 3, 0, \"th\", 5);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(16, \"div\")(17, \"h3\");\n      i0.ɵɵtext(18, \"Cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"table\", 1)(20, \"thead\", 2)(21, \"tr\")(22, \"th\", 7);\n      i0.ɵɵtext(23, \"S.No\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\");\n      i0.ɵɵtext(25, \"Description \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\");\n      i0.ɵɵtext(27, \"Qty \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\");\n      i0.ɵɵtext(29, \"Price \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"tbody\");\n      i0.ɵɵtemplate(31, HomeComponent_tr_31_Template, 14, 5, \"tr\", 6);\n      i0.ɵɵelementStart(32, \"tr\")(33, \"td\", 8);\n      i0.ɵɵtext(34, \" Total \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"td\");\n      i0.ɵɵtext(36);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵattribute(\"colspan\", ctx.Sizes.length);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.Sizes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(12, 6, ctx.gorups));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.Sizes);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngForOf\", ctx.carts);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" $\", ctx.total, \" \");\n    }\n  },\n  dependencies: [i1.NgForOf, i1.KeyValuePipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["_","i0","HomeComponent","constructor","gorups","groupBy","Toppings","reverse","console","log","getToppings","name","filter","category","addCart","s","_dccc","document","querySelectorAll","Name","_toppings","forEach","e","HTMLInputElement","checked","push","dataset","topping","_items","Qty","Size","Amount","chain","indexOf","sumBy","value","carts","calcTotal","total","removeItem","index","splice","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\work\\sriramsadineni\\pizza-delivery-codetest\\pizzadelivery\\PizzaDelivery\\ClientApp\\src\\app\\home\\home.component.ts","C:\\work\\sriramsadineni\\pizza-delivery-codetest\\pizzadelivery\\PizzaDelivery\\ClientApp\\src\\app\\home\\home.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\nexport class HomeComponent {\r\n\r\n  Toppings = [{\r\n    \"name\": \"Tomatoes\",\r\n    \"category\": \"Veg\",\r\n    \"amount\": 1.00,\r\n  }, {\r\n    \"name\": \"Onions\",\r\n    \"category\": \"Veg\",\r\n    \"amount\": .50,\r\n  },\r\n  {\r\n    \"name\": \"Bell pepper\",\r\n    \"category\": \"Veg\",\r\n    \"amount\": 1.00,\r\n  },\r\n  {\r\n    \"name\": \"Mushrooms\",\r\n    \"category\": \"Veg\",\r\n    \"amount\": 1.20,\r\n  },\r\n  {\r\n    \"name\": \"Pineapple\",\r\n    \"category\": \"Veg\",\r\n    \"amount\": .75,\r\n  },\r\n  {\r\n    \"name\": \"Sausage\",\r\n    \"category\": \"Non Veg\",\r\n    \"amount\": 1.00,\r\n  },\r\n  {\r\n    \"name\": \"Pepperoni\",\r\n    \"category\": \"Non Veg\",\r\n    \"amount\": 2.00,\r\n  },\r\n  {\r\n    \"name\": \"Chicken\",\r\n    \"category\": \"Non Veg\",\r\n    \"amount\": 3.00,\r\n  }]\r\n\r\n  Sizes = [{\r\n    \"Name\": \"Small\",\r\n    \"Amount\": 5.00\r\n  },\r\n  {\r\n    \"Name\": \"Medium\",\r\n    \"Amount\": 7.00\r\n  },\r\n  {\r\n    \"Name\": \"Large\",\r\n    \"Amount\": 8.00\r\n  },\r\n  {\r\n    \"Name\": \"Extra Large\",\r\n    \"Amount\": 9.00\r\n  }]\r\n\r\n  carts: any[] = []\r\n  gorups: any;\r\n  constructor() {\r\n\r\n    this.gorups = _.groupBy(this.Toppings.reverse(), \"category\");\r\n    console.log(this.gorups)\r\n  }\r\n\r\n  getToppings(name: any) {\r\n\r\n    return _.filter(this.Toppings, { category: name })\r\n  }\r\n  addCart(s: any) {\r\n\r\n    var _dccc = document.querySelectorAll(`[data-size=${s.Name}]`)\r\n    var _toppings: any[] = [];\r\n    _dccc.forEach(e => {\r\n      if (e instanceof HTMLInputElement) {\r\n        if (e.checked) {\r\n          _toppings.push(e.dataset.topping)\r\n        }\r\n      }\r\n    })\r\n    var _items: any = {\r\n      Toppings: _toppings,\r\n      Qty: 1,\r\n      Size: s.Name\r\n    }\r\n    _items.Amount = 0;\r\n    _items.Amount = _items.Amount + _.chain(this.Toppings).filter(e => {\r\n      return _toppings.indexOf(e.name) !== -1\r\n    }).sumBy('amount').value();\r\n\r\n    _items.Amount = _items.Amount + s.Amount;\r\n\r\n    this.carts.push(_items);\r\n\r\n    this.calcTotal();\r\n  }\r\n  total = 0;\r\n  calcTotal(){\r\n    \r\n    this.total = _.chain(this.carts).sumBy('Amount').value()\r\n  }\r\n\r\n  removeItem(index: number) {\r\n    this.carts.splice(index, 1);\r\n    this.calcTotal();\r\n  }\r\n}\r\n\r\n\r\n","<div class=\"fs-6\">\r\n  <table class=\"table table-bordered\">\r\n<thead class=\"\">\r\n  <tr>\r\n    <th rowspan=\"2\"   class=\"text-center align-self-center\">   \r\n      Toppings \r\n    </th>\r\n    <th [attr.colspan]=\"Sizes.length\" class=\"text-center\">    Pizza size\r\n    </th>\r\n  </tr>\r\n  <tr>\r\n   \r\n    <th *ngFor=\"let s of Sizes\" class=\"text-center\">\r\n      {{s.Name}} (${{s.Amount}})\r\n    </th>\r\n  </tr>\r\n</thead>\r\n<tbody>\r\n  <ng-container *ngFor=\"let s of gorups | keyvalue;\">\r\n    <tr>\r\n      <th [attr.colspan]=\"1 + Sizes.length\">{{s.key}}</th>\r\n    </tr>\r\n    <tr  *ngFor=\"let v of getToppings(s.key);\">\r\n      <th class=\"text-center\" >\r\n        {{v.name}} (${{v.amount}})\r\n      </th>\r\n      <th *ngFor=\"let s of Sizes\" class=\"text-center\">\r\n        <div class=\"form-check d-inline-block\">\r\n          <input class=\"form-check-input\"  [attr.data-topping]=\"v.name\" [attr.data-size]=\"s.Name\" type=\"checkbox\" \r\n           id=\"{{v.name.replace(' ','-') +'-' + s.Name.replace(' ','-') }}\">\r\n          <label class=\"form-check-label\"  for=\"{{v.name.replace(' ','-') +'-' + s.Name.replace(' ','-') }}\">\r\n          </label>\r\n        </div>\r\n      </th>\r\n     </tr>\r\n  </ng-container>\r\n  <tr>\r\n    <td>\r\n\r\n    </td>\r\n    <th *ngFor=\"let s of Sizes\" class=\"text-center\">\r\n      <button class=\"btn btn-primary\" (click)=\"addCart(s)\"> \r\n        Add Cart\r\n      </button>\r\n    </th>\r\n  </tr>\r\n</tbody>\r\n  </table>\r\n</div>\r\n\r\n<div>\r\n  <h3>Cart</h3>\r\n  <table class=\"table table-bordered\">\r\n<thead class=\"\">\r\n <tr>\r\n  <th style=\"width: 50px;\">S.No</th>\r\n  <th>Description </th>\r\n  <th>Qty </th>\r\n  <th>Price </th>\r\n </tr>\r\n</thead>\r\n<tbody>\r\n\r\n  <tr *ngFor=\"let c of carts;let i = index\">\r\n      <td>\r\n        {{i + 1 }}\r\n      </td>\r\n      <td>\r\n        <p class=\"mb-0\" >\r\n          Size : {{c.Size}}\r\n        </p>\r\n        <p class=\"mb-0\" >\r\n          Toppings : {{c.Toppings.join(', ')}}\r\n        </p>\r\n        <a class=\"text-danger\" href=\"javascript:void(0)\" (click)=\"removeItem(i)\">\r\n          remove\r\n        </a>\r\n      </td>\r\n      <td>\r\n        {{c.Qty}}\r\n      </td>\r\n      <td>\r\n        {{c.Amount}}\r\n      </td>\r\n  </tr>\r\n  <tr>\r\n    <td colspan=\"3\" class=\"text-end fw-bold\">\r\n      Total\r\n    </td>\r\n    <td>\r\n      ${{total}}\r\n    </td>\r\n  </tr>\r\n</tbody>\r\n  </table>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}